<div class="highlight" style="background: #eeeedd"><pre style="line-height: 125%"><span></span><span style="color: #000080; font-weight: bold">TITLE: Les bases de la programmation avec Python</span>
<span style="color: #000080; font-weight: bold">AUTHOR:</span> Ahmed Ammar {copyright|GPL3} Email:ahmed.ammar@fst.utm.tn at Institut Préparatoire aux Études Scientifiques et Techniques, Université de Carthage.

<span style="color: #000080; font-weight: bold">DATE:</span> today

<span style="color: #000080; font-weight: bold">TOC:</span> on

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= C’est quoi Python? =======</span>
Le langage de programmation Python (URL: &quot;http://www.python.org/&quot;) a été créé en 1989 par Guido van Rossum, aux Pays-Bas. La première version publique de ce langage a été publiée en 1991.

Ce langage de programmation présente de nombreuses caractéristiques intéressantes :
* Il est _multiplateforme_. C’est-à-dire qu’il fonctionne sur de nombreux systèmes d’exploitation : Windows, Mac OS X, Linux, Android, iOS, depuis les mini-ordinateurs Raspberry Pi jusqu’aux supercalculateurs.
* Il est _gratuit_. Vous pouvez l’installer sur autant d’ordinateurs que vous voulez (même sur votre téléphone!).
* C’est un _langage de haut niveau_. Il demande relativement peu de connaissance sur le fonctionnement d’un ordinateur pour être utilisé.
* C’est un _langage interprété_. Un script Python n’a pas besoin d’être compilé pour être exécuté, contrairement à des langages comme le `C` ou le `C++`.
* Il est _orienté objet_. C’est-à-dire qu’il est possible de concevoir en Python des entités qui miment celles du monde réel (une cellule, une protéine, un atome, etc.) avec un certain nombre de règles de fonctionnement et d’interactions.
* Il est _relativement simple_ à prendre en main.
* Enfin, il est très utilisé en industrie technologique et plus généralement en data science et intelligence artificielle.


<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Installation d&#39;un environnement Python scientifique =======</span>
<span style="color: #000080; font-weight: bold">===== Qu’est ce que Anaconda ? =====</span>

Anaconda (URL:&quot;https://www.anaconda.com/products/individual#Downloads&quot;) est  une distribution Python. A son installation, Anaconda installera Python ainsi qu&#39;une multitude de packages (voir &quot;liste de packages anaconda&quot;: &quot;https://docs.anaconda.com/anaconda/packages/pkg-docs#python-3-6&quot;).  Cela nous évite de nous ruer dans les problèmes d’incompatibilités entre les différents packages.

Finalement, Anaconda propose un outil de gestion de packages appelé &quot;conda&quot;: &quot;https://conda.io/docs/&quot;. Ce dernier permettra de mettre à jour et installer facilement les librairies dont on aura besoin pour nos développements.

<span style="color: #658b00">FIGURE: [imgs/AnacondaNavigator, width=600 frac=0.7] Interface graphique du navigateur Anaconda sur Windows</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #8B008B; font-weight: bold">!bnotice</span>
* Nous demandons à tous les étudiants de télécharger Anaconda. Pour cela, il faut télécharger un installeur à partir de URL:&quot;https://www.anaconda.com/products/individual#Downloads&quot;, correspondant à votre système d’exploitation (Windows, Mac OS X, Linux). Il faut choisir entre 32 bits ou 64 bits (pour la version *Python 3*) selon que votre système d’exploitation est 32 bits ou 64 bits.

* Anaconda installe plusieurs exécutables pour développer en Python dans le répertoire *anaconda3/bin* (voir dans votre dossier personnel), sans toujours créer des raccourcis sur le bureau ou dans un menu.
<span style="color: #8B008B; font-weight: bold">!enotice</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">===== L&#39;environnement Spyder =====</span>
Pour le développement de programmes en langage Python, des applications spéciales appelées IDE (Integrated Development Environment) peuvent être utilisées. _Spyder_ (Scientific PYthon Development EnviRonment) est un environnement de développement interactif gratuit inclus avec Anaconda. Il comprend des fonctionnalités d&#39;édition, de test interactif, de débogage et d&#39;introspection.

Après avoir installé Anaconda, vous pouvez démarrer Spyder sur macOS, Linux ou Windows en ouvrant une fenêtre de terminal (Ubuntu/macOS) ou d&#39;invite de commande (Windows) et en exécutant la commande `spyder`.

<span style="color: #658b00">FIGURE: [imgs/SpyderIDE.png, width=600 frac=0.7] Spyder sous Windows.</span>


<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Premier programme en Python : &quot;Hello World!&quot; =======</span>
C&#39;est devenu une tradition que lorsque vous apprenez un nouveau langage de programmation, vous démarrez avec un programme permettant à l&#39;ordinateur d&#39;imprimer le message *&quot;Hello World!&quot;*.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [1]: print(&quot;Hello World!&quot;)
Hello World!
<span style="color: #8B008B; font-weight: bold">!ec</span>

Félicitation! tout à l&#39;heure vous avez fait votre ordinateur saluer le monde en anglais! La fonction `print()` est utilisée pour imprimer l’instruction entre les parenthèses. De plus, l&#39;utilisation de guillemets simples `print(&#39;Hello World!&#39;)` affichera le même résultat. Le délimiteur de début et de fin doit être le même.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [2]: print(&#39;Hello World!&#39;)
Hello World!
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Commentaires =======</span>

Au fur et à mesure que vos programmes deviennent plus grands et plus compliqués, ils deviennent plus difficiles à lire et à regarder un morceau de code et à comprendre ce qu&#39;il fait ou pourquoi. Pour cette raison, il est conseillé d’ajouter des notes à vos programmes pour expliquer en langage naturel ce qu’il fait. Ces notes s&#39;appellent des commentaires et commencent par le symbole `#`.

Voyez ce qui se passe lorsque nous ajoutons un commentaire au code précédent:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [3]: print(&#39;Hello World!&#39;) # Ceci est mon premier commentaire
Hello World!
<span style="color: #8B008B; font-weight: bold">!ec</span>
Rien ne change dans la sortie? Oui, et c’est très normal, l’interpréteur Python ignore cette ligne et ne renvoie rien. La raison en est que les commentaires sont écrits pour les humains, pour comprendre leurs codes, et non pour les machines.

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Expressions =======</span>
<span style="color: #000080; font-weight: bold">===== Opérations arithmétiques =====</span>
L&#39;interpréteur Python agit comme une simple calculatrice : vous pouvez y taper une expression et l&#39;interpréteur restituera la valeur. La syntaxe d&#39;expression est simple: les opérateurs +, -, * et / fonctionnent comme dans la plupart des autres langages (par exemple, Pascal ou C); les parenthèses (`()`) peuvent être utilisées pour le regroupement. Par exemple:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [4]: 5+3
Out[4]: 8
In [5]: 2 - 9      # les espaces sont optionnels
Out[5]: -7
In [6]: 7 + 3 * 4  #la hiérarchie des opérations mathématique
Out[6]: 19
In [7]: (7 + 3) * 4  # est-elle respectées?
Out[7]: 40

<span style="color: #228B22"># en python3 la division retourne toujours un nombre en virgule flottante</span>
In [8]: 20 / 3
Out[8]: 6.666666666666667
In [9]: 7 // 2      # une division entière
Out[9]: 3
<span style="color: #8B008B; font-weight: bold">!ec</span>
On peut noter l’existence de l’opérateur `%` (appelé opérateur modulo). Cet opérateur fournit le reste de la division entière d’un nombre par un autre. Par exemple :

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [10]: 7 % 2       # donne le reste de la division
Out[10]: 1
In [11]: 6 % 2
Out[11]: 0
<span style="color: #8B008B; font-weight: bold">!ec</span>

Les exposants peuvent être calculés à l&#39;aide de doubles astérisques `**`.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [12]: 3**2
Out[12]: 9
<span style="color: #8B008B; font-weight: bold">!ec</span>

Les puissances de dix peuvent être calculées comme suit:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [13]: 3 * 2e3   # vaut 3 * 2000
Out[13]: 6000.0
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">===== Opérateurs relationnels =====</span>

<span style="color: #228B22"># #include &quot;table1.do.txt&quot;</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [17]: b = 10
    ...: b &gt; 8
Out[17]: True

In [18]: b == 5
Out[18]: False

In [19]: b != 5
Out[19]: True

In [20]: 0 &lt;= b &lt;= 20
Out[20]: True
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">===== Opérateurs logiques =====</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [21]: note = 13.0

In [22]: mention_ab = note &gt;= 12.0 and note &lt; 14.0

In [23]: # ou bien : mention_ab = 12.0 &lt;= note &lt; 14.0

In [24]: mention_ab
Out[24]: True
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [25]: not mention_ab
Out[25]: False

In [26]: note == 20.0 or note == 0.0
Out[26]: False
<span style="color: #8B008B; font-weight: bold">!ec</span>
L&#39;opérateur `in` s&#39;utilise avec des chaînes (type `str`) ou des listes (type `list`).

Pour une chaînes:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [30]: chaine = &#39;Bonsoir&#39;
    ...: #la sous-chaîne &#39;soir&#39; fait-elle partie de la chaîne &#39;Bonsoir&#39; ?

In [31]: resultat = &#39;soir&#39; in chaine
    ...: resultat
Out[31]: True
<span style="color: #8B008B; font-weight: bold">!ec</span>

Pour une liste:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy

In [32]: maliste = [4, 8, 15]
    ...: #le nombre entier 9 est-il dans la liste ?

In [33]: 9 in maliste
Out[33]: False

In [34]: 8 in maliste
Out[34]: True

In [35]: 14 not in maliste
Out[35]: True
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Variables et affectation =======</span>
Dans presque tous les programmes Python que vous allez écrire, vous aurez des variables. Les variables agissent comme des espaces réservés pour les données. Ils peuvent aider à court terme, ainsi qu’à la logique, les variables pouvant changer, d’où leur nom. C’est beaucoup plus facile en Python car aucune déclaration de variables n’est requise. Les noms de variable (ou tout autre objet Python tel que fonction, classe, module, etc.) commencent par une lettre majuscule ou minuscule (A-Z ou a-z). Ils sont sensibles à la casse (`VAR1` et `var1` sont deux variables distinctes). Depuis Python, vous pouvez utiliser n’importe quel caractère Unicode, il est préférable d’ignorer les caractères ASCII (donc pas de caractères accentués).

Si une variable est nécessaire, pensez à un nom et commencez à l&#39;utiliser comme une variable, comme dans l&#39;exemple ci-dessous:

Pour calculer l&#39;aire d&#39;un rectangle par exemple: `largeur` x `hauteur`:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [15]: largeur = 25
    ...: hauteur = 40
    ...: largeur    # essayer d&#39;accéder à la valeur de la variable largeur
Out[15]: 25
<span style="color: #8B008B; font-weight: bold">!ec</span>

on peut également utiliser la fonction `print()` pour afficher la valeur de la variable `largeur`
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [16]: print(largeur)
25
<span style="color: #8B008B; font-weight: bold">!ec</span>
Le produit de ces deux variables donne l&#39;aire du rectangle:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [17]: largeur * hauteur  # donne l&#39;aire du rectangle
Out[17]: 1000
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bnotice</span>
Notez ici que le signe égal (`=`) dans l&#39;affectation ne doit pas être considéré comme _&quot;est égal à&quot;_. Il doit être _&quot;lu&quot;_ ou interprété comme _&quot;est définie par&quot;_, ce qui signifie dans notre exemple:
<span style="color: #8B008B; font-weight: bold">!bquote</span>
La variable `largeur` est définie par la valeur 25 et la variable `hauteur` est définie par la valeur 40.
<span style="color: #8B008B; font-weight: bold">!equote</span>
<span style="color: #8B008B; font-weight: bold">!enotice</span>

<span style="color: #8B008B; font-weight: bold">!bwarning</span>
Si une variable n&#39;est pas *définie* (assignée à une valeur), son utilisation vous donnera une erreur:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [18]: aire     # essayer d&#39;accéder à une variable non définie
-----------------------------------------------------------------------
NameError                            Traceback (most recent call last)
&lt;ipython-input-18-1b03529c1ce5&gt; in &lt;module&gt;()
----&gt; 1 aire     # essayer d&#39;accéder à une variable non définie

NameError: name &#39;aire&#39; is not defined
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!ewarning</span>

Laissez-nous résoudre ce problème informatique (ou _bug_ tout simplement)!. En d&#39;autres termes, assignons la variable `aire` à sa valeur.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [19]: aire = largeur * hauteur
    ...: aire  # et voila!
Out[19]: 1000
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">======= Noms de variables réservés (keywords) =======</span>
Certains noms de variables ne sont pas disponibles, ils sont réservés à python lui-même. Les mots-clés suivants (que vous pouvez afficher dans l&#39;interpréteur avec la commande `help(&quot;keywords&quot;)`) sont réservés et ne peuvent pas être utilisés pour définir vos propres identifiants (variables, noms de fonctions, classes, etc.).

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [20]: help(&quot;keywords&quot;)

Here is a list of the Python keywords.  Enter any keyword to get more help.

False               def                 if                  raise
None                del                 import              return
True                elif                in                  try
and                 else                is                  while
as                  except              lambda              with
assert              finally             nonlocal            yield
break               for                 not
class               from                or
continue            global              pass

<span style="color: #228B22"># par exemple pour éviter d&#39;écraser le nom réservé lambda</span>
In [22]: lambda_ = 630e-9
    ...: lambda_
Out[22]: 6.3e-07
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">======= Types simples =======</span>
Les types utilisés dans Python sont: integers, long integers, floats (double prec.), complexes, strings, booleans. La fonction `type()` donne le type de son argument
<span style="color: #000080; font-weight: bold">===== Le type int (integer : nombres entiers) =====</span>
Pour affecter (on peut dire aussi assigner) la valeur 20 à la variable nommée `age` :

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
age = 20
<span style="color: #8B008B; font-weight: bold">!ec</span>
La fonction `print()` affiche la valeur de la variable :

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [24]: print(age)
20
<span style="color: #8B008B; font-weight: bold">!ec</span>
La fonction `type()` retourne le type de la variable :
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
type(age)
Out[25]: int
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #000080; font-weight: bold">===== Le type float (nombres en virgule flottante) =====</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
b = 17.0  # le séparateur décimal est un point (et non une virgule)
b
Out[26]: 17.0
In [27]: type(b)
Out[27]: float
In [28]: c = 14.0/3.0
    ...: c
Out[28]: 4.666666666666667
<span style="color: #8B008B; font-weight: bold">!ec</span>
Notation scientifique :
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [29]: a = -1.784892e4
    ...: a
Out[29]: -17848.92
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">===== Le type complexe =====</span>
Python possède par défaut un type pour manipuler les nombres complexes. La partie imaginaire est indiquée grâce à la lettre « `j` » ou « `J` ». La lettre mathématique utilisée habituellement, le « `i` », n’est pas utilisée en Python car la variable i est souvent utilisée dans les boucles.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [37]: a = 2 + 3j
    ...: type(a)
Out[37]: complex
In [38]: a
Out[38]: (2+3j)
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!bwarning</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [39]: b = 1 + j
--------------------------------------------------------------
NameError                      Traceback (most recent call last)
&lt;ipython-input-39-0f22d953f29e&gt; in &lt;module&gt;()
----&gt; 1 b = 1 + j

NameError: name &#39;j&#39; is not defined
<span style="color: #8B008B; font-weight: bold">!ec</span>
Dans ce cas, on doit écrire la variable `b` comme suit:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [41]: b = 1 + 1j
    ...: b
Out[41]: (1+1j)
<span style="color: #8B008B; font-weight: bold">!ec</span>
sinon Python va considérer `j` comme variable non définie.
<span style="color: #8B008B; font-weight: bold">!ewarning</span>
On peut faire l&#39;addition des variables complexes:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [42]: a + b
Out[42]: (3+4j)
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #000080; font-weight: bold">===== Le type bool (booléen) =====</span>

Deux valeurs sont possibles : `True` et `False`

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [16]: choix = True # NOTE: &quot;True&quot; différent de &quot;true&quot;
    ...: type(choix)
Out[16]: bool
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #000080; font-weight: bold">======= Types composés =======</span>
<span style="color: #000080; font-weight: bold">===== Le type str (string : chaîne de caractères) =====</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy

In [43]: nom = &#39;Tounsi&#39; # entre apostrophes
    ...: nom
Out[43]: &#39;Tounsi&#39;
In [44]: type(nom)
Out[44]: str
In [45]: prenom = &quot;Ali&quot;  # on peut aussi utiliser les guillemets
    ...: prenom
Out[45]: &#39;Ali&#39;
In [46]: print(nom, prenom)  # ne pas oublier la virgule
Tounsi Ali
<span style="color: #8B008B; font-weight: bold">!ec</span>

La concaténation désigne la mise bout à bout de plusieurs chaînes de caractères.
La concaténation utilise l&#39;opérateur `+`:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [47]: chaine = nom + prenom  # concaténation de deux chaînes de caractères
    ...: chaine
Out[47]: &#39;TounsiAli&#39;
<span style="color: #8B008B; font-weight: bold">!ec</span>
Vous voyez dans cet exemple que le nom et le prénom sont collé. Pour ajouter une espace entre ces deux chaînes de caractères:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [48]: chaine = prenom + &#39; &#39; + nom
    ...: chaine # et voila
Out[48]: &#39;Ali Tounsi&#39;
<span style="color: #8B008B; font-weight: bold">!ec</span>
On peut modifier/ajouter une nouvelle chaîne à notre variable `chaine` par:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [49]: chaine = chaine + &#39; 22 ans&#39;  # en plus court : chaine += &#39; 22 ans&#39;
    ...: chaine
Out[49]: &#39;Ali Tounsi 22 ans&#39;
<span style="color: #8B008B; font-weight: bold">!ec</span>

La fonction `len()` renvoie la longueur (*length*) de la chaîne de caractères :

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [53]: print(nom)
    ...: len(nom)
Tounsi
Out[53]: 6
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #800080; font-weight: bold">__Indexage et slicing :__</span>

<span style="color: #8B008B; font-weight: bold">!bc</span>
 +---+---+---+---+---+---+
<span style="color: #CD5555">|------------------------|</span>
 | T | o | u | n | s | i |
 +---+---+---+---+---+---+
 |------------------------|
 0   1   2   3   4   5   6
 ---&gt;
-6  -5  -4  -3  -2  -1
                   &lt;----
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [55]: nom[0]  # premier caractère (indice 0)
Out[55]: &#39;T&#39;

In [56]: nom[:] # toute la chaine
Out[56]: &#39;Tounsi&#39;

In [57]: nom[1] # deuxième caractère (indice 1)
Out[57]: &#39;o&#39;

In [58]: nom[1:4]   # slicing
Out[58]: &#39;oun&#39;

In [59]: nom[2:]  # slicing
Out[59]: &#39;unsi&#39;

In [60]: nom[-1]   # dernier caractère (indice -1)
Out[60]: &#39;i&#39;

In [61]: nom[-3:]    # slicing
Out[61]: &#39;nsi&#39;

<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bwarning</span>

On ne peut pas mélanger le type `str` et type `int`.

Soit par exemple:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [63]: chaine = &#39;22&#39;
    ...: annee_naissance = 2018 - chaine
----------------------------------------------------------
TypeError                  Traceback (most recent call last)
&lt;ipython-input-63-8607078f78d2&gt; in &lt;module&gt;()
      1 chaine = &#39;22&#39;
----&gt; 2 annee_naissance = 2018 - chaine

TypeError: unsupported operand type(s) for -: &#39;int&#39; and &#39;str&#39;
<span style="color: #8B008B; font-weight: bold">!ec</span>

Pour corriger cette erreur, la fonction `int()` permet de convertir un type `str` en type `int`:

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy

In [64]: nombre = int(chaine)
    ...: type(nombre) # et voila!
Out[64]: int
<span style="color: #8B008B; font-weight: bold">!ec</span>
Maintenant on peut trouver `annee_naissance` sans aucun problème:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [65]: annee_naissance = 2018 - nombre
    ...: annee_naissance
Out[65]: 1996
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!ewarning</span>

<span style="color: #800080; font-weight: bold">__Interaction avec l&#39;utilisateur (la fonction `input()`)__</span>

La fonction `input()` lance une case pour saisir une chaîne de caractères.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [66]: prenom = input(&#39;Entrez votre prénom : &#39;)
    ...: age = input(&#39;Entrez votre age : &#39;)

Entrez votre prénom : Foulen

Entrez votre age : 25
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #800080; font-weight: bold">__ Formatage des chaînes__</span>

Un problème qui se retrouve souvent, c’est le besoin d’afficher un message qui contient des valeurs de variables.

Soit le message: Bonjour Mr/Mme `prenom`, votre age est `age`.

La solution est d&#39;utiliser la méthode `format()` de l&#39;objet chaîne `str()` et le `{}` pour définir la valeur à afficher.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
print(&quot; Bonjour Mr/Mme {}, votre age est {}.&quot;.format(prenom, age))
<span style="color: #8B008B; font-weight: bold">!ec</span>


<span style="color: #800080; font-weight: bold">__Le type list (liste)__</span>

Une liste est une structure de données.

Le premier élément d&#39;une liste possède l&#39;indice (l&#39;index) 0.

Dans une liste, on peut avoir des éléments de plusieurs types.

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [1]: info = [&#39;Tunisie&#39;, &#39;Afrique&#39;, 3000, 36.8, 10.08]

In [2]: type(info)
Out[2]: list
<span style="color: #8B008B; font-weight: bold">!ec</span>
La liste info contient 5 éléments de types str, str, int, float et float

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [3]: info
Out[3]: [&#39;Tunisie&#39;, &#39;Afrique&#39;, 3000, 36.8, 10.08]

In [4]: print(&#39;Pays : &#39;, info[0])    # premier élément (indice 0)
Pays :  Tunisie

In [5]: print(&#39;Age : &#39;, info[2])     # le troisième élément a l&#39;indice 2
Age :  3000

In [6]: print(&#39;Latitude : &#39;, info[3]) # le quatrième élément a l&#39;indice 3
Latitude :  36.8
<span style="color: #8B008B; font-weight: bold">!ec</span>

La fonction `range()` crée une liste d&#39;entiers régulièrement espacés :

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [7]: maliste = range(10) # équivalent à range(0,10,1)
   ...: type(maliste)
Out[7]: range
<span style="color: #8B008B; font-weight: bold">!ec</span>
Pour convertir une range en une liste, on applique la fonction `list()` à notre variable:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [8]: list(maliste)   # pour convertir range en une liste
Out[8]: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
<span style="color: #8B008B; font-weight: bold">!ec</span>
On peut spécifier le début, la fin et l&#39;intervalle d&#39;une range:
<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [9]: maliste = range(1,10,2)   # range(début,fin non comprise,intervalle)
   ...: list(maliste)
Out[9]: [1, 3, 5, 7, 9]

In [10]: maliste[2] # le troisième élément a l&#39;indice 2
Out[10]: 5
<span style="color: #8B008B; font-weight: bold">!ec</span>

On peut créer une liste de listes, qui s&#39;apparente à un tableau à 2 dimensions (ligne, colonne) :

<span style="color: #8B008B; font-weight: bold">!bc</span>
0   1   2
10  11  12
20  21  22
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bc</span> ipy
In [11]: maliste = [[0, 1, 2], [10, 11, 12], [20, 21, 22]]
    ...: maliste[0]
Out[11]: [0, 1, 2]

In [12]: maliste[0][0]
Out[12]: 0

In [13]: maliste[2][1] # élément à la troisième ligne et deuxième colonne
Out[13]: 21

In [14]: maliste[2][1] = 78   # nouvelle affectation

In [15]: maliste
Out[15]: [[0, 1, 2], [10, 11, 12], [20, 78, 22]]
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">======= Les conditions =======</span>
<span style="color: #000080; font-weight: bold">===== L&#39;instruction `if` =====</span>
En programmation, nous avons toujours besoin de la notion de condition pour permettre à un programme de s&#39;adapter à différents cas de figure.

<span style="color: #8B008B; font-weight: bold">!bblock</span> Syntaxe

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod-t
if expression: # ne pas oublier le signe de ponctuation &#39;:&#39;
    &quot;bloc d&#39;instructions&quot; # attention à l&#39;indentation (1 Tab ou 4 * Espaces)
<span style="color: #228B22"># suite du programme</span>
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!eblock</span>

* Si l&#39;expression est vraie (`True`) alors le bloc d&#39;instructions est exécuté.

* Si l&#39;expression est fausse (`False`) on passe directement à la suite du programme.

<span style="color: #000080; font-weight: bold">=== Exemple 1: Note sur 20 ===</span>
Dans cet exemple nous allons tester si la note entrée par l&#39;utilisateur. Si la note est &gt; 10 on doit recevoir le message: &quot;J&#39;ai la moyenne&quot; sinon il va rien faire.
<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
chaine = input(&quot;Note sur 20 : &quot;)
note = float(chaine)
if note &gt;= 10.0:
    # ce bloc est exécuté si l&#39;expression (note &gt;= 10.0) est vraie
    print(&quot;J&#39;ai la moyenne&quot;)

<span style="color: #228B22"># suite du programme</span>
print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bnotice</span>
* Les blocs de code sont délimités par l&#39;indentation.
* L&#39;indentation est obligatoire dans les scripts.
<span style="color: #8B008B; font-weight: bold">!enotice</span>

<span style="color: #000080; font-weight: bold">===== L&#39;instruction `else` =====</span>

Une instruction `else` est toujours associée à une instruction `if`.

<span style="color: #8B008B; font-weight: bold">!bblock</span> Syntaxe

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod-t
if expression:
    &quot;bloc d&#39;instructions 1&quot;    # attention à l&#39;indentation (1 Tab ou 4 * Espaces)
else:                          # else est au même niveau que if
    &quot;bloc d&#39;instructions 2&quot;    # attention à l&#39;indentation
<span style="color: #228B22"># suite du programme</span>
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!eblock</span>

* Si l&#39;expression est vraie (`True`) alors le bloc d&#39;instructions 1 est exécuté.
* Si l&#39;expression est fausse (`False`) alors c&#39;est le bloc d&#39;instructions 2 qui est exécuté.

<span style="color: #000080; font-weight: bold">=== Exemple 2 : moyenne ===</span>
Dans cet exemple nous allons tester si la note entrée par l&#39;utilisateur. Si la note est &gt; 10 on doit recevoir le message: &quot;J&#39;ai la moyenne&quot; sinon il va afficher &quot;C&#39;est en dessous de la moyenne&quot;.

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
chaine = input(&quot;Note sur 20 : &quot;)
note = float(chaine)
if note &gt;= 10.0:
    # ce bloc est exécuté si l&#39;expression (note &gt;= 10.0) est vraie
    print(&quot;J&#39;ai la moyenne&quot;)
else:
    # ce bloc est exécuté si l&#39;expression (note &gt;= 10.0) est fausse
    print(&quot;C&#39;est en dessous de la moyenne&quot;)
print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>

Pour traiter le cas des notes invalides ($&lt;0$ ou $&gt;20$), on peut imbriquer des instructions conditionnelles :

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
chaine = input(&quot;Note sur 20 : &quot;)
note = float(chaine)
if note &gt; 20.0 or note &lt; 0.0:
    # ce bloc est exécuté si l&#39;expression (note &gt; 20.0 or note &lt; 0.0) est vraie
    print(&quot;Note invalide !&quot;)
else:
    # ce bloc est exécuté si l&#39;expression (note &gt; 20.0 or note &lt; 0.0) est fausse
    if note &gt;= 10.0:
        # ce bloc est exécuté si l&#39;expression (note &gt;= 10.0) est vraie
        print(&quot;J&#39;ai la moyenne&quot;)
    else:
        # ce bloc est exécuté si l&#39;expression (note &gt;= 10.0) est fausse
        print(&quot;C&#39;est en dessous de la moyenne&quot;)
print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>
Ou bien encore:
<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
chaine = input(&quot;Note sur 20 : &quot;)
note = float(chaine)
if note &gt; 20.0 or note &lt; 0.0:
    print(&quot;Note invalide !&quot;)
else:
    if note &gt;= 10.0:
        print(&quot;J&#39;ai la moyenne&quot;)
        if note == 20.0:
            # ce bloc est exécuté si l&#39;expression (note == 20.0) est vraie
            print(&quot;C&#39;est même excellent !&quot;)
    else:
        print(&quot;C&#39;est en dessous de la moyenne&quot;)
        if note == 0.0:
            # ce bloc est exécuté si l&#39;expression (note == 0.0) est vraie
            print(&quot;... lamentable !&quot;)
print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">===== L&#39;instruction `elif` =====</span>
Une instruction `elif` (contraction de _else if_) est toujours associée à une instruction `if`.

<span style="color: #8B008B; font-weight: bold">!bblock</span> Syntaxe

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod-t
if expression 1:
    &quot;bloc d&#39;instructions 1&quot;
elif expression 2:
    &quot;bloc d&#39;instructions 2&quot;
elif expression 3:
    &quot;bloc d&#39;instructions 3&quot;    # ici deux instructions elif, mais il n&#39;y a pas de limitation
else:
    &quot;bloc d&#39;instructions 4&quot;
<span style="color: #228B22"># suite du programme</span>
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!eblock</span>

* Si l&#39;expression 1 est vraie alors le bloc d&#39;instructions 1 est exécuté, et on passe à la suite du programme.
* Si l&#39;expression 1 est fausse alors on teste l&#39;expression 2 :

* si l&#39;expression 2 est vraie on exécute le bloc d&#39;instructions 2, et on passe à la suite du programme.
* si l&#39;expression 2 est fausse alors on teste l&#39;expression 3, etc.

Le bloc d&#39;instructions 4 est donc exécuté si toutes les expressions sont fausses (c&#39;est le bloc &quot;par défaut&quot;).

Parfois il n&#39;y a rien à faire. Dans ce cas, on peut omettre l&#39;instruction `else` :

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod-t
if expression 1:
    &quot;bloc d&#39;instructions 1&quot;
elif expression 2:
    &quot;bloc d&#39;instructions 2&quot;
elif expression 3:
    &quot;bloc d&#39;instructions 3&quot;
<span style="color: #228B22"># suite du programme</span>
<span style="color: #8B008B; font-weight: bold">!ec</span>


L&#39;instruction `elif` évite souvent l&#39;utilisation de conditions imbriquées (et souvent compliquées).

<span style="color: #000080; font-weight: bold">=== Exemple 3 : moyenne-bis ===</span>
On peut tester plusieurs possibilités avec une syntaxe beaucoup plus propre avec les instructions `if-elif-else`:
<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
note = float(input(&quot;Note sur 20 : &quot;))
if note == 0.0:
    print(&quot;C&#39;est en dessous de la moyenne&quot;)
    print(&quot;... lamentable!&quot;)
elif note == 20.0:
    print(&quot;J&#39;ai la moyenne&quot;)
    print(&quot;C&#39;est même excellent !&quot;)
elif 0 &lt; note &lt; 10:    # ou bien : elif 0.0 &lt; note &lt; 10.0:
    print(&quot;C&#39;est en dessous de la moyenne&quot;)
elif note &gt;= 10.0 and note &lt; 20.0:   # ou bien : elif 10.0 &lt;= note &lt; 20.0:
    print(&quot;J&#39;ai la moyenne&quot;)
else:
    print(&quot;Note invalide !&quot;)
print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!split</span>
<span style="color: #000080; font-weight: bold">===== Exercise: Condition sur le jour de travail =====</span>

Si aujourd&#39;hui est lundi alors je dois aller travailler, mais si c&#39;est dimanche alors je peux rester faire la grasse matinée. Pour pouvoir accomplir ce genre de choses en Python, on fait appel à des expressions booléennes qui ne peuvent revêtir que deux possibilités - ou bien l&#39;expression est vraie ou bien elle est fausse - et à la syntaxe if condition: qui permet de contrôler le flux du programme grâce à ces valeurs booléennes.

<span style="color: #8B008B; font-weight: bold">!bc</span> pycod-t
day_week = [&quot;Lundi&quot;, &quot;Mardi&quot;, &quot;Mercredi&quot;, &quot;Jeudi&quot;, &quot;Vendredi&quot;,
            &quot;Samedi&quot;, &quot;Dimanche&quot;]
today = input(&quot;Aujourd&#39;hui est: &quot;)

if *condition vraie*:  # Quelle est la condition vraie dans ce cas?
    print(&quot;Je dors le matin!&quot;)
else:
    print(&quot;Je travail le matin!&quot;)

print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>

<span style="color: #8B008B; font-weight: bold">!bhint</span>
Dans la _condition vraie_, utilisez l&#39;opérateur logique `in` pour tester les éléments de la liste `day_week`.
<span style="color: #8B008B; font-weight: bold">!ehint</span>

<span style="color: #8B008B; font-weight: bold">!bsol</span>
<span style="color: #8B008B; font-weight: bold">!bc</span> pycod
day_week = [&quot;Lundi&quot;, &quot;Mardi&quot;, &quot;Mercredi&quot;, &quot;Jeudi&quot;, &quot;Vendredi&quot;, &quot;Samedi&quot;, &quot;Dimanche&quot;]
today = input(&quot;Aujourd&#39;hui est: &quot;)
if today in day_week:
    if today == day_week[-1]:  # la condition vraie
        print(&quot;Je dors le matin!&quot;)
    else:
        print(&quot;Je travail le matin!&quot;)

print(&quot;Fin du programme&quot;)
<span style="color: #8B008B; font-weight: bold">!ec</span>
<span style="color: #8B008B; font-weight: bold">!esol</span>
<span style="color: #228B22"># ======= Les boucles =======</span>
<span style="color: #228B22"># ===== L&#39;instruction `while` =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bblock Syntaxe</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod-t</span>
<span style="color: #228B22"># while expression:           # ne pas oublier le signe de ponctuation &#39;:&#39;</span>
<span style="color: #228B22">#     &quot;bloc d&#39;instructions&quot;   # attention à l&#39;indentation (1 Tab ou 4 * Espaces)</span>
<span style="color: #228B22"># # suite du programme</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># !eblock</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># * Si l&#39;expression est vraie (`True`) le bloc d&#39;instructions est exécuté, puis l&#39;expression est à nouveau évaluée.</span>
<span style="color: #228B22"># * Le cycle continue jusqu&#39;à ce que l&#39;expression soit fausse (`False`) : on passe alors à la suite du programme.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 1 : un script qui compte de 1 à 4 ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># # initialisation de la variable de comptage</span>
<span style="color: #228B22"># compteur = 0</span>
<span style="color: #228B22"># while compteur &lt; 5:</span>
<span style="color: #228B22">#     # ce bloc est exécuté tant que la condition (compteur &lt; 5) est vraie</span>
<span style="color: #228B22">#     print(compteur)</span>
<span style="color: #228B22">#     compteur +=  1    # incrémentation du compteur,  compteur = compteur + 1</span>
<span style="color: #228B22"># print(compteur)</span>
<span style="color: #228B22"># print(&quot;Fin de la boucle&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 2 : Table de multiplication par 8 ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># compteur = 1         # initialisation de la variable de comptage</span>
<span style="color: #228B22"># while compteur &lt;= 10:</span>
<span style="color: #228B22">#     # ce bloc est exécuté tant que la condition (compteur &lt;= 10) est vraie</span>
<span style="color: #228B22">#     print(compteur, &#39;* 8 =&#39;, compteur*8)</span>
<span style="color: #228B22">#     compteur += 1    # incrémentation du compteur, compteur = compteur + 1</span>
<span style="color: #228B22"># print(&quot;Et voilà !&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 3 : Affichage de l&#39;heure courante ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># import time     # importation du module time</span>
<span style="color: #228B22"># quitter = &#39;n&#39;   # initialisation</span>
<span style="color: #228B22"># while quitter != &#39;o&#39;:</span>
<span style="color: #228B22">#     # ce bloc est exécuté tant que la condition est vraie</span>
<span style="color: #228B22">#     # strftime() est une fonction du module time</span>
<span style="color: #228B22">#     print(&#39;Heure courante &#39;, time.strftime(&#39;%H:%M:%S&#39;))</span>
<span style="color: #228B22">#     quitter = input(&quot;Voulez-vous quitter le programme (o/n) ? &quot;)</span>
<span style="color: #228B22"># print(&quot;A bientôt&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ===== L&#39;instruction `for` =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bblock Syntaxe</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod-t</span>
<span style="color: #228B22"># for élément in séquence :     # ne pas oublier le signe de ponctuation &#39;:&#39;</span>
<span style="color: #228B22">#     &quot;bloc d&#39;instructions&quot;     # attention à l&#39;indentation (1 Tab ou 4 * Espaces)</span>
<span style="color: #228B22"># # suite du programme</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># !eblock</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Les éléments de la séquence sont issus d&#39;une chaîne de caractères ou bien d&#39;une liste.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 1 : séquence de caractères ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># chaine = &#39;Bonsoir&#39;</span>
<span style="color: #228B22"># for lettre in chaine:  # lettre est la variable d&#39;itération</span>
<span style="color: #228B22">#     print(lettre)</span>
<span style="color: #228B22"># print(&quot;Fin de la boucle&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># La variable lettre est initialisée avec le premier élément de la séquence (&#39;B&#39;).</span>
<span style="color: #228B22"># Le bloc d&#39;instructions est alors exécuté.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Puis la variable lettre est mise à jour avec le second élément de la séquence (&#39;o&#39;) et le bloc d&#39;instructions à nouveau exécuté...</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Le bloc d&#39;instructions est exécuté une dernière fois lorsqu&#39;on arrive au dernier élément de la séquence (&#39;r&#39;).</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Fonction `range()` ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># L&#39;association avec la fonction `range()` est très utile pour créer des séquences automatiques de nombres entiers :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># for i in range(1, 5):</span>
<span style="color: #228B22">#     print(i)</span>
<span style="color: #228B22"># print(&quot;Fin de la boucle&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 2 : Table de multiplication ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># La création d&#39;une table de multiplication paraît plus simple avec une boucle `for` qu&#39;avec une boucle `while` :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># for compteur in range(1,11):</span>
<span style="color: #228B22">#     print(compteur, &#39;* 8 =&#39;, compteur*8)</span>
<span style="color: #228B22"># print(&quot;Et voilà !&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple 3 : calcul d&#39;une somme ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Soit, par exemple, l&#39;expression de la somme suivante:</span>
<span style="color: #228B22"># $$s = \sum_{i = 0}^{100} \sqrt{ \frac{i \pi}{100}} sin(\frac{i \pi}{100})$$</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># from math import sqrt, sin, pi</span>
<span style="color: #228B22"># s = 0.0 # # intialisation de s</span>
<span style="color: #228B22"># for i in range(101):</span>
<span style="color: #228B22">#     s+= sqrt(i * pi/100) * sin(i * pi/100)   # équivalent à s = s + sqrt(x) * sin(x)</span>
<span style="color: #228B22"># # Affichage de la somme</span>
<span style="color: #228B22"># print(s)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !split</span>
<span style="color: #228B22"># ===== Exercise: produit de Wallis =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Calculer $\pi$ avec le &quot;produit de Wallis&quot; : &quot;https://fr.wikipedia.org/wiki/Int%C3%A9grale_de_Wallis#Calcul_de_%CF%80&quot;</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># $$ \frac{\pi}{2} = \prod_{i=1}^p\frac{4i^2}{4i^2-1}$$</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bsol</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># # %load wallis.py</span>
<span style="color: #228B22"># from math import pi</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># my_pi = 1.  # intialisation</span>
<span style="color: #228B22"># p = 100000</span>
<span style="color: #228B22"># for i in range(1, p):</span>
<span style="color: #228B22">#     my_pi *= 4 * i ** 2 / (4 * i ** 2 - 1.)  # implémentation de la formule de Wallis</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># my_pi *= 2       # multiplication par 2 de la valeur trouvée</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># print(&quot;La valeur de pi de la bibliothèque &#39;math&#39;: &quot;, pi)</span>
<span style="color: #228B22"># print(&quot;La valeur de pi calculer par la formule de Wallis: &quot;, my_pi)</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># print(&quot;La différence entre les deux valeurs:&quot;, abs(pi - my_pi))</span>
<span style="color: #228B22"># # la fonction abs() donne la valeur absolue</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># !esol</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ===== Compréhensions de listes =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Les compréhensions de listes fournissent un moyen de construire des listes de manière très concise. Une application classique est la construction de nouvelles listes où chaque élément est le résultat d’une opération appliquée à chaque élément d’une autre séquence ; ou de créer une sous-séquence des éléments satisfaisant une condition spécifique.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Par exemple, supposons que l’on veuille créer une liste de carrés, comme :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># squares = []</span>
<span style="color: #228B22"># for x in range(10):</span>
<span style="color: #228B22">#     squares.append(x**2)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># squares</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># Notez que cela crée (ou remplace) une variable nommée `x` qui existe toujours après l’exécution de la boucle. On peut calculer une liste de carrés sans effet de bord avec :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># squares = [x**2 for x in range(10)]</span>
<span style="color: #228B22"># squares</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># qui est plus court et lisible.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Une compréhension de liste consiste à placer entre crochets une expression suivie par une clause `for` puis par zéro ou plus clauses `for` ou `if`. Le résultat est une nouvelle liste résultat de l’évaluation de l’expression dans le contexte des clauses `for` et `if` qui la suivent. Par exemple, cette compréhension de liste combine les éléments de deux listes s’ils ne sont pas égaux :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># combs = [(x, y) for x in [1,2,3] for y in [3,1,4] if x != y]</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># combs</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># et c’est équivalent à :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># combs = []</span>
<span style="color: #228B22"># for x in [1,2,3]:</span>
<span style="color: #228B22">#     for y in [3,1,4]:</span>
<span style="color: #228B22">#         if x != y:</span>
<span style="color: #228B22">#             combs.append((x, y))</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># combs</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bnotice</span>
<span style="color: #228B22"># Notez que l’ordre des instructions `for` et `if` est le même dans ces différents extraits de code.</span>
<span style="color: #228B22"># !enotice</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ===== L&#39;instruction break =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># L&#39;instruction break provoque une sortie immédiate d&#39;une boucle `while` ou d&#39;une boucle `for`.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Dans l&#39;exemple suivant, l&#39;expression `True` est toujours ... vraie : on a une boucle sans fin.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># L&#39;instruction `break` est donc le seul moyen de sortir de la boucle.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple : Affichage de l&#39;heure courante ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># import time     # importation du module time</span>
<span style="color: #228B22"># while True:</span>
<span style="color: #228B22">#     # strftime() est une fonction du module time</span>
<span style="color: #228B22">#     print(&#39;Heure courante &#39;, time.strftime(&#39;%H:%M:%S&#39;))</span>
<span style="color: #228B22">#     quitter = input(&#39;Voulez-vous quitter le programme (o/n) ? &#39;)</span>
<span style="color: #228B22">#     if quitter == &#39;o&#39;:</span>
<span style="color: #228B22">#         break</span>
<span style="color: #228B22"># print(&quot;A bientôt&quot;)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bnotice</span>
<span style="color: #228B22"># Si vous connaissez le nombre de boucles à effectuer, utiliser une boucle `for`.</span>
<span style="color: #228B22"># Autrement, utiliser une boucle `while` (notamment pour faire des boucles sans fin).</span>
<span style="color: #228B22"># !enotice</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ======= Les fonctions =======</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Nous avons déjà vu beaucoup de fonctions : `print()`, `type()`, `len()`, `input()`, `range()`...</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Ce sont des fonctions pré-définies (&quot;Fonctions natives&quot;: &quot;https://docs.python.org/fr/3/library/functions.html&quot;).</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Nous avons aussi la possibilité de créer nos propres fonctions!</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ===== Intérêt des fonctions =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Une fonction est une portion de code que l&#39;on peut appeler au besoin (c&#39;est une sorte de sous-programme).</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># L&#39;utilisation des fonctions évite des redondances dans le code : on obtient ainsi des programmes plus courts et plus lisibles.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Par exemple, nous avons besoin de convertir à plusieurs reprises des degrés Celsius en degrés Fahrenheit :</span>
<span style="color: #228B22"># $$T_F = T_C \times 1,8 + 32 $$</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># print(100 * 1.8 + 32.0)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># print(37.0 * 1.8 + 32.0)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># print(233.0 * 1.8 + 32.0)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># La même chose en utilisant une fonction :</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># def fahrenheit(degre_celsius):</span>
<span style="color: #228B22">#         &quot;&quot;&quot;</span>
<span style="color: #228B22">#         Conversion degré Celsius en degré Fahrenheit</span>
<span style="color: #228B22">#         &quot;&quot;&quot;</span>
<span style="color: #228B22">#         print(degre_celsius * 1.8 + 32.0)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># fahrenheit(100)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># fahrenheit(37)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># temperature = 220</span>
<span style="color: #228B22"># fahrenheit(temperature)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># ===== L&#39;instruction def =====</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bblock Syntaxe</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod-t</span>
<span style="color: #228B22"># def nom_de_la_fonction(parametre1, parametre2, parametre3, ...):</span>
<span style="color: #228B22">#     &quot;&quot;&quot;</span>
<span style="color: #228B22">#     Documentation</span>
<span style="color: #228B22">#     qu&#39;on peut écrire</span>
<span style="color: #228B22">#     sur plusieurs lignes</span>
<span style="color: #228B22">#     &quot;&quot;&quot;     # docstring entouré de 3 guillemets (ou apostrophes)</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22">#     &quot;bloc d&#39;instructions&quot;     # attention à l&#39;indentation</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22">#     return resultat            # la fonction retourne le contenu de la variable resultat</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22"># !eblock</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># === Exemple : ma première fonction ===</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># def mapremierefonction():         # cette fonction n&#39;a pas de paramètre</span>
<span style="color: #228B22">#     &quot;&quot;&quot;</span>
<span style="color: #228B22">#     Cette fonction affiche &#39;Bonjour&#39;</span>
<span style="color: #228B22">#     &quot;&quot;&quot;</span>
<span style="color: #228B22">#     print(&quot;Bonjour&quot;)</span>
<span style="color: #228B22">#     return                         # cette fonction ne retourne rien (&#39;None&#39;)</span>
<span style="color: #228B22">#     # l&#39;instruction return est ici facultative</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># mapremierefonction()</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># help(mapremierefonction)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !split</span>
<span style="color: #228B22"># ======= Les Scripts =======</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Commençons par écrire un script, c’est-à-dire un fichier avec une séquence d’instructions à exécuter chaque fois que le script est appelé. Les instructions peuvent être, par exemple, copié-collé depuis une _cellule code_ dans votre notebook (mais veillez à respecter les règles d&#39;indentation!).</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># L&#39;extension pour les fichiers Python est `.py`. Écrivez ou copiez et collez les lignes suivantes dans un fichier appelé `test.py`</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod-t</span>
<span style="color: #228B22"># chaine = &#39;Bonsoir&#39;</span>
<span style="color: #228B22"># for lettre in chaine:  # lettre est la variable d&#39;itération</span>
<span style="color: #228B22">#     print(lettre)</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># Exécutons maintenant le script de manière interactive, à l&#39;intérieur de l&#39;interpréteur Ipython (cellule code du notebook). C&#39;est peut-être l&#39;utilisation la plus courante des scripts en calcul et simulation scientifique.</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bnotice</span>
<span style="color: #228B22"># Dans la cellule *code* (Ipython), la syntaxe permettant d&#39;exécuter un script est `%run script.py`. Par exemple:</span>
<span style="color: #228B22"># !enotice</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># %run test.py</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># chaine</span>
<span style="color: #228B22"># !ec</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># La syntaxe permettant de charger le contunu d&#39;un script dans dans une cellule code est `%load script.py`. Par exemple:</span>
<span style="color: #228B22">#</span>
<span style="color: #228B22"># !bc pycod</span>
<span style="color: #228B22"># # %load test.py</span>
<span style="color: #228B22"># chaine = &#39;Bonsoir&#39;</span>
<span style="color: #228B22"># for lettre in chaine:  # lettre est la variable d&#39;itération</span>
<span style="color: #228B22">#     print(lettre)</span>
<span style="color: #228B22"># !ec</span>
</pre></div>
